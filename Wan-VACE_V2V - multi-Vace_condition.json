{
  "id": "d45eaab4-6dae-4aee-847a-0c3d6d51aaab",
  "revision": 0,
  "last_node_id": 146,
  "last_link_id": 159,
  "nodes": [
    {
      "id": 1,
      "type": "WanVideoTorchCompileSettings",
      "pos": [
        -7114.4814453125,
        -1196.167236328125
      ],
      "size": [
        421.6000061035156,
        202
      ],
      "flags": {},
      "order": 0,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "torch_compile_args",
          "type": "WANCOMPILEARGS",
          "slot_index": 0,
          "links": [
            1
          ]
        }
      ],
      "properties": {
        "cnr_id": "ComfyUI-WanVideoWrapper",
        "ver": "f820f38c8f0de30a7b964aecdafe4cf7f0597054",
        "Node name for S&R": "WanVideoTorchCompileSettings"
      },
      "widgets_values": [
        "inductor",
        false,
        "default",
        false,
        64,
        true,
        128
      ],
      "color": "#223",
      "bgcolor": "#335"
    },
    {
      "id": 2,
      "type": "Note",
      "pos": [
        -6638.6318359375,
        -1179.90234375
      ],
      "size": [
        453.9957580566406,
        88
      ],
      "flags": {},
      "order": 1,
      "mode": 0,
      "inputs": [],
      "outputs": [],
      "properties": {
        "text": ""
      },
      "widgets_values": [
        "https://huggingface.co/Kijai/WanVideo_comfy/tree/main"
      ],
      "color": "#432",
      "bgcolor": "#653"
    },
    {
      "id": 4,
      "type": "WanVideoModelLoader",
      "pos": [
        -6642.6767578125,
        -1032.7562255859375
      ],
      "size": [
        477.4410095214844,
        254
      ],
      "flags": {},
      "order": 37,
      "mode": 0,
      "inputs": [
        {
          "name": "compile_args",
          "shape": 7,
          "type": "WANCOMPILEARGS",
          "link": 1
        },
        {
          "name": "block_swap_args",
          "shape": 7,
          "type": "BLOCKSWAPARGS",
          "link": 2
        },
        {
          "name": "lora",
          "shape": 7,
          "type": "WANVIDLORA",
          "link": 3
        },
        {
          "name": "vram_management_args",
          "shape": 7,
          "type": "VRAM_MANAGEMENTARGS",
          "link": null
        },
        {
          "name": "vace_model",
          "shape": 7,
          "type": "VACEPATH",
          "link": 4
        },
        {
          "name": "fantasytalking_model",
          "shape": 7,
          "type": "FANTASYTALKINGMODEL",
          "link": null
        }
      ],
      "outputs": [
        {
          "name": "model",
          "type": "WANVIDEOMODEL",
          "slot_index": 0,
          "links": [
            44
          ]
        }
      ],
      "properties": {
        "cnr_id": "ComfyUI-WanVideoWrapper",
        "ver": "f820f38c8f0de30a7b964aecdafe4cf7f0597054",
        "Node name for S&R": "WanVideoModelLoader"
      },
      "widgets_values": [
        "Wan2_1\\Wan2_1-T2V-14B_fp8_e4m3fn.safetensors",
        "fp16",
        "fp8_e4m3fn",
        "offload_device",
        "sageattn"
      ],
      "color": "#223",
      "bgcolor": "#335"
    },
    {
      "id": 5,
      "type": "WanVideoVAELoader",
      "pos": [
        -6668.9150390625,
        -448.5143737792969
      ],
      "size": [
        372.7727966308594,
        82
      ],
      "flags": {},
      "order": 2,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "vae",
          "type": "WANVAE",
          "slot_index": 0,
          "links": [
            45
          ]
        }
      ],
      "properties": {
        "cnr_id": "ComfyUI-WanVideoWrapper",
        "ver": "f820f38c8f0de30a7b964aecdafe4cf7f0597054",
        "Node name for S&R": "WanVideoVAELoader"
      },
      "widgets_values": [
        "kj-Wan2_1_VAE_fp32.safetensors",
        "fp32"
      ],
      "color": "#322",
      "bgcolor": "#533"
    },
    {
      "id": 8,
      "type": "WanVideoBlockSwap",
      "pos": [
        -7112.4033203125,
        -936.3611450195312
      ],
      "size": [
        339.9682922363281,
        154
      ],
      "flags": {},
      "order": 3,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "block_swap_args",
          "type": "BLOCKSWAPARGS",
          "links": [
            2
          ]
        }
      ],
      "properties": {
        "cnr_id": "ComfyUI-WanVideoWrapper",
        "ver": "fd562e9730ded3bb36af461c517731208dfc3746",
        "Node name for S&R": "WanVideoBlockSwap"
      },
      "widgets_values": [
        20,
        false,
        false,
        true,
        0
      ],
      "color": "#223",
      "bgcolor": "#335"
    },
    {
      "id": 9,
      "type": "GetNode",
      "pos": [
        -7045.8095703125,
        -2396.69189453125
      ],
      "size": [
        210,
        58
      ],
      "flags": {},
      "order": 4,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "INT",
          "type": "INT",
          "links": [
            5
          ]
        }
      ],
      "title": "Get_width",
      "properties": {},
      "widgets_values": [
        "width"
      ],
      "color": "#1b4669",
      "bgcolor": "#29699c"
    },
    {
      "id": 11,
      "type": "SetNode",
      "pos": [
        -5283.9462890625,
        -2196.60595703125
      ],
      "size": [
        210,
        58
      ],
      "flags": {
        "collapsed": false
      },
      "order": 44,
      "mode": 0,
      "inputs": [
        {
          "name": "INT",
          "type": "INT",
          "link": 8
        }
      ],
      "outputs": [
        {
          "name": "*",
          "type": "*",
          "links": []
        }
      ],
      "title": "Set_length",
      "properties": {
        "previousName": ""
      },
      "widgets_values": [
        "length"
      ],
      "color": "#1b4669",
      "bgcolor": "#29699c"
    },
    {
      "id": 12,
      "type": "SetNode",
      "pos": [
        -5280.68896484375,
        -2487.30322265625
      ],
      "size": [
        210,
        58
      ],
      "flags": {
        "collapsed": false
      },
      "order": 40,
      "mode": 0,
      "inputs": [
        {
          "name": "INT",
          "type": "INT",
          "link": 9
        }
      ],
      "outputs": [
        {
          "name": "*",
          "type": "*",
          "links": []
        }
      ],
      "title": "Set_width",
      "properties": {
        "previousName": ""
      },
      "widgets_values": [
        "width"
      ],
      "color": "#1b4669",
      "bgcolor": "#29699c"
    },
    {
      "id": 13,
      "type": "SetNode",
      "pos": [
        -5279.95849609375,
        -2338.740234375
      ],
      "size": [
        210,
        58
      ],
      "flags": {
        "collapsed": false
      },
      "order": 41,
      "mode": 0,
      "inputs": [
        {
          "name": "INT",
          "type": "INT",
          "link": 10
        }
      ],
      "outputs": [
        {
          "name": "*",
          "type": "*",
          "links": []
        }
      ],
      "title": "Set_height",
      "properties": {
        "previousName": ""
      },
      "widgets_values": [
        "height"
      ],
      "color": "#1b4669",
      "bgcolor": "#29699c"
    },
    {
      "id": 14,
      "type": "GetNode",
      "pos": [
        -6026.6728515625,
        -1172.87841796875
      ],
      "size": [
        210,
        58
      ],
      "flags": {},
      "order": 5,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            18
          ]
        }
      ],
      "title": "Get_video_src",
      "properties": {},
      "widgets_values": [
        "video_src"
      ],
      "color": "#2a363b",
      "bgcolor": "#3f5159"
    },
    {
      "id": 15,
      "type": "GetNode",
      "pos": [
        -6025.4501953125,
        -1060.560546875
      ],
      "size": [
        210,
        58
      ],
      "flags": {},
      "order": 6,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "INT",
          "type": "INT",
          "links": [
            19
          ]
        }
      ],
      "title": "Get_width",
      "properties": {},
      "widgets_values": [
        "width"
      ],
      "color": "#1b4669",
      "bgcolor": "#29699c"
    },
    {
      "id": 16,
      "type": "GetNode",
      "pos": [
        -6022.19970703125,
        -950.6528930664062
      ],
      "size": [
        210,
        58
      ],
      "flags": {},
      "order": 7,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "INT",
          "type": "INT",
          "links": [
            20
          ]
        }
      ],
      "title": "Get_height",
      "properties": {},
      "widgets_values": [
        "height"
      ],
      "color": "#1b4669",
      "bgcolor": "#29699c"
    },
    {
      "id": 38,
      "type": "GetNode",
      "pos": [
        -4822.39111328125,
        -1184.7161865234375
      ],
      "size": [
        210,
        34
      ],
      "flags": {
        "collapsed": true
      },
      "order": 8,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "WANVIDEOMODEL",
          "type": "WANVIDEOMODEL",
          "links": [
            40
          ]
        }
      ],
      "title": "Get_wan_model",
      "properties": {},
      "widgets_values": [
        "wan_model"
      ],
      "color": "#223",
      "bgcolor": "#335"
    },
    {
      "id": 39,
      "type": "LayerUtility: PurgeVRAM",
      "pos": [
        -3975.326416015625,
        -1196.2718505859375
      ],
      "size": [
        315,
        82
      ],
      "flags": {},
      "order": 61,
      "mode": 0,
      "inputs": [
        {
          "name": "anything",
          "type": "*",
          "link": 23
        }
      ],
      "outputs": [],
      "properties": {
        "cnr_id": "comfyui_layerstyle",
        "ver": "f8439eb17f03e0fa60a35303493bfc9a7d5ab098",
        "Node name for S&R": "LayerUtility: PurgeVRAM"
      },
      "widgets_values": [
        true,
        true
      ],
      "color": "rgba(38, 73, 116, 0.7)"
    },
    {
      "id": 41,
      "type": "SetNode",
      "pos": [
        -3890.365966796875,
        -714.4515991210938
      ],
      "size": [
        210,
        58
      ],
      "flags": {},
      "order": 62,
      "mode": 0,
      "inputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "link": 26
        }
      ],
      "outputs": [
        {
          "name": "*",
          "type": "*",
          "links": null
        }
      ],
      "title": "Set_video_cnv2v",
      "properties": {
        "previousName": ""
      },
      "widgets_values": [
        "video_cnv2v"
      ],
      "color": "#2a363b",
      "bgcolor": "#3f5159"
    },
    {
      "id": 42,
      "type": "GetNode",
      "pos": [
        -3912.841552734375,
        -813.1387329101562
      ],
      "size": [
        210,
        58
      ],
      "flags": {},
      "order": 9,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "FLOAT",
          "type": "FLOAT",
          "links": []
        }
      ],
      "title": "Get_video_fps",
      "properties": {},
      "widgets_values": [
        "video_fps"
      ],
      "color": "#232",
      "bgcolor": "#353"
    },
    {
      "id": 45,
      "type": "GetNode",
      "pos": [
        -4803.92724609375,
        -1078.053955078125
      ],
      "size": [
        210,
        34
      ],
      "flags": {
        "collapsed": true
      },
      "order": 10,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "WANVAE",
          "type": "WANVAE",
          "links": [
            24
          ]
        }
      ],
      "title": "Get_wan_vae",
      "properties": {},
      "widgets_values": [
        "wan_vae"
      ],
      "color": "#322",
      "bgcolor": "#533"
    },
    {
      "id": 46,
      "type": "GetNode",
      "pos": [
        -4989.45751953125,
        -1110.7108154296875
      ],
      "size": [
        210,
        34
      ],
      "flags": {
        "collapsed": true
      },
      "order": 11,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "STRING",
          "type": "STRING",
          "links": [
            39
          ]
        }
      ],
      "title": "Get_txt_prompt",
      "properties": {},
      "widgets_values": [
        "txt_prompt"
      ],
      "color": "#232",
      "bgcolor": "#353"
    },
    {
      "id": 47,
      "type": "GetNode",
      "pos": [
        -4992.0927734375,
        -1180.701904296875
      ],
      "size": [
        210,
        34
      ],
      "flags": {
        "collapsed": true
      },
      "order": 12,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "WANTEXTENCODER",
          "type": "WANTEXTENCODER",
          "links": [
            38
          ]
        }
      ],
      "title": "Get_wan_clip",
      "properties": {},
      "widgets_values": [
        "wan_clip"
      ],
      "color": "#432",
      "bgcolor": "#653"
    },
    {
      "id": 49,
      "type": "SetNode",
      "pos": [
        -5872.3125,
        -2523.38720703125
      ],
      "size": [
        210,
        58
      ],
      "flags": {},
      "order": 50,
      "mode": 0,
      "inputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "link": 29
        }
      ],
      "outputs": [
        {
          "name": "*",
          "type": "*",
          "links": null
        }
      ],
      "title": "Set_video_src",
      "properties": {
        "previousName": ""
      },
      "widgets_values": [
        "video_src"
      ],
      "color": "#2a363b",
      "bgcolor": "#3f5159"
    },
    {
      "id": 51,
      "type": "SetNode",
      "pos": [
        -5866.5361328125,
        -2108.121337890625
      ],
      "size": [
        210,
        58
      ],
      "flags": {},
      "order": 59,
      "mode": 0,
      "inputs": [
        {
          "name": "FLOAT",
          "type": "FLOAT",
          "link": 31
        }
      ],
      "outputs": [
        {
          "name": "*",
          "type": "*",
          "links": null
        }
      ],
      "title": "Set_video_fps",
      "properties": {
        "previousName": ""
      },
      "widgets_values": [
        "video_fps"
      ],
      "color": "#232",
      "bgcolor": "#353"
    },
    {
      "id": 53,
      "type": "WanVideoTextEncode",
      "pos": [
        -4962.11328125,
        -1026.234619140625
      ],
      "size": [
        562.7572021484375,
        373.2000427246094
      ],
      "flags": {},
      "order": 35,
      "mode": 0,
      "inputs": [
        {
          "name": "t5",
          "type": "WANTEXTENCODER",
          "link": 38
        },
        {
          "name": "model_to_offload",
          "shape": 7,
          "type": "WANVIDEOMODEL",
          "link": null
        },
        {
          "name": "positive_prompt",
          "type": "STRING",
          "widget": {
            "name": "positive_prompt"
          },
          "link": 39
        }
      ],
      "outputs": [
        {
          "name": "text_embeds",
          "type": "WANVIDEOTEXTEMBEDS",
          "slot_index": 0,
          "links": [
            41
          ]
        }
      ],
      "properties": {
        "cnr_id": "ComfyUI-WanVideoWrapper",
        "ver": "f820f38c8f0de30a7b964aecdafe4cf7f0597054",
        "Node name for S&R": "WanVideoTextEncode"
      },
      "widgets_values": [
        "A senior man and woman met on the beach, a sunset sky lighting with beautiful sea wave. They are walking on the beach sand. A side way of a cinmatic scene.",
        "色调艳丽，过曝，静态，细节模糊不清，字幕，风格，作品，画作，画面，静止，整体发灰，最差质量，低质量，JPEG压缩残留，丑陋的，残缺的，多余的手指，画得不好的手部，画得不好的脸部，畸形的，毁容的，形态畸形的肢体，手指融合，静止不动的画面，杂乱的背景，三条腿，背景人很多，倒着走",
        true
      ],
      "color": "#232",
      "bgcolor": "#353"
    },
    {
      "id": 58,
      "type": "SetNode",
      "pos": [
        -6274.46826171875,
        -582.0950927734375
      ],
      "size": [
        210,
        34
      ],
      "flags": {
        "collapsed": true
      },
      "order": 36,
      "mode": 0,
      "inputs": [
        {
          "name": "WANTEXTENCODER",
          "type": "WANTEXTENCODER",
          "link": 43
        }
      ],
      "outputs": [
        {
          "name": "*",
          "type": "*",
          "links": null
        }
      ],
      "title": "Set_wan_clip",
      "properties": {
        "previousName": ""
      },
      "widgets_values": [
        "wan_clip"
      ],
      "color": "#432",
      "bgcolor": "#653"
    },
    {
      "id": 59,
      "type": "SetNode",
      "pos": [
        -6374.88525390625,
        -718.4978637695312
      ],
      "size": [
        210,
        34
      ],
      "flags": {
        "collapsed": true
      },
      "order": 49,
      "mode": 0,
      "inputs": [
        {
          "name": "WANVIDEOMODEL",
          "type": "WANVIDEOMODEL",
          "link": 44
        }
      ],
      "outputs": [
        {
          "name": "*",
          "type": "*",
          "links": null
        }
      ],
      "title": "Set_wan_model",
      "properties": {
        "previousName": ""
      },
      "widgets_values": [
        "wan_model"
      ],
      "color": "#223",
      "bgcolor": "#335"
    },
    {
      "id": 60,
      "type": "SetNode",
      "pos": [
        -6270.37060546875,
        -431.2190856933594
      ],
      "size": [
        210,
        34
      ],
      "flags": {
        "collapsed": true
      },
      "order": 33,
      "mode": 0,
      "inputs": [
        {
          "name": "WANVAE",
          "type": "WANVAE",
          "link": 45
        }
      ],
      "outputs": [
        {
          "name": "*",
          "type": "*",
          "links": null
        }
      ],
      "title": "Set_wan_vae",
      "properties": {
        "previousName": ""
      },
      "widgets_values": [
        "wan_vae"
      ],
      "color": "#322",
      "bgcolor": "#533"
    },
    {
      "id": 17,
      "type": "GetNode",
      "pos": [
        -7042.5595703125,
        -2286.7841796875
      ],
      "size": [
        210,
        58
      ],
      "flags": {},
      "order": 13,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "INT",
          "type": "INT",
          "links": [
            6
          ]
        }
      ],
      "title": "Get_height",
      "properties": {},
      "widgets_values": [
        "height"
      ],
      "color": "#1b4669",
      "bgcolor": "#29699c"
    },
    {
      "id": 40,
      "type": "WanVideoDecode",
      "pos": [
        -3998.041748046875,
        -1040.9832763671875
      ],
      "size": [
        315,
        174
      ],
      "flags": {},
      "order": 58,
      "mode": 0,
      "inputs": [
        {
          "name": "vae",
          "type": "WANVAE",
          "link": 24
        },
        {
          "name": "samples",
          "type": "LATENT",
          "link": 25
        }
      ],
      "outputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "slot_index": 0,
          "links": [
            23,
            26,
            27
          ]
        }
      ],
      "properties": {
        "cnr_id": "ComfyUI-WanVideoWrapper",
        "ver": "f820f38c8f0de30a7b964aecdafe4cf7f0597054",
        "Node name for S&R": "WanVideoDecode"
      },
      "widgets_values": [
        false,
        320,
        320,
        144,
        128
      ]
    },
    {
      "id": 3,
      "type": "LoadWanVideoT5TextEncoder",
      "pos": [
        -6660.54296875,
        -642.2596435546875
      ],
      "size": [
        337.9159851074219,
        130
      ],
      "flags": {},
      "order": 14,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "wan_t5_model",
          "type": "WANTEXTENCODER",
          "slot_index": 0,
          "links": [
            43
          ]
        }
      ],
      "properties": {
        "cnr_id": "ComfyUI-WanVideoWrapper",
        "ver": "f820f38c8f0de30a7b964aecdafe4cf7f0597054",
        "Node name for S&R": "LoadWanVideoT5TextEncoder"
      },
      "widgets_values": [
        "kj-umt5-xxl-enc-bf16.safetensors",
        "bf16",
        "offload_device",
        "disabled"
      ],
      "color": "#432",
      "bgcolor": "#653"
    },
    {
      "id": 6,
      "type": "WanVideoVACEModelSelect",
      "pos": [
        -7123.6982421875,
        -443.4578552246094
      ],
      "size": [
        397.06280517578125,
        65.09430694580078
      ],
      "flags": {},
      "order": 15,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "vace_model",
          "type": "VACEPATH",
          "links": [
            4
          ]
        }
      ],
      "properties": {
        "cnr_id": "ComfyUI-WanVideoWrapper",
        "ver": "c7b2635f01509e29aeff62bd06bffef41c3285fa",
        "Node name for S&R": "WanVideoVACEModelSelect"
      },
      "widgets_values": [
        "Wan2_1\\kj-Wan2_1-VACE_module_14B_bf16.safetensors"
      ],
      "color": "#223",
      "bgcolor": "#335"
    },
    {
      "id": 7,
      "type": "WanVideoLoraSelect",
      "pos": [
        -7107.8056640625,
        -698.9961547851562
      ],
      "size": [
        345.0840148925781,
        126
      ],
      "flags": {},
      "order": 16,
      "mode": 0,
      "inputs": [
        {
          "name": "prev_lora",
          "shape": 7,
          "type": "WANVIDLORA",
          "link": null
        },
        {
          "name": "blocks",
          "shape": 7,
          "type": "SELECTEDBLOCKS",
          "link": null
        }
      ],
      "outputs": [
        {
          "name": "lora",
          "type": "WANVIDLORA",
          "links": [
            3
          ]
        }
      ],
      "properties": {
        "cnr_id": "ComfyUI-WanVideoWrapper",
        "ver": "fd562e9730ded3bb36af461c517731208dfc3746",
        "Node name for S&R": "WanVideoLoraSelect"
      },
      "widgets_values": [
        "WanVideo\\Wan21_CausVid_14B_T2V_lora_rank32.safetensors",
        0.5000000000000001,
        false
      ],
      "color": "#223",
      "bgcolor": "#335"
    },
    {
      "id": 27,
      "type": "SetNode",
      "pos": [
        -4181.9248046875,
        -2471.3212890625
      ],
      "size": [
        210,
        58
      ],
      "flags": {
        "collapsed": true
      },
      "order": 42,
      "mode": 0,
      "inputs": [
        {
          "name": "STRING",
          "type": "STRING",
          "link": 13
        }
      ],
      "outputs": [
        {
          "name": "*",
          "type": "*",
          "links": []
        }
      ],
      "title": "Set_txt_prompt",
      "properties": {
        "previousName": ""
      },
      "widgets_values": [
        "txt_prompt"
      ],
      "color": "#232",
      "bgcolor": "#353"
    },
    {
      "id": 25,
      "type": "Note",
      "pos": [
        -4992.89306640625,
        -2175.701904296875
      ],
      "size": [
        351.9228210449219,
        88
      ],
      "flags": {},
      "order": 17,
      "mode": 0,
      "inputs": [],
      "outputs": [],
      "properties": {
        "text": ""
      },
      "widgets_values": [
        "Reference Image for face"
      ],
      "color": "#432",
      "bgcolor": "#653"
    },
    {
      "id": 28,
      "type": "SetNode",
      "pos": [
        -4781.9111328125,
        -1458.90673828125
      ],
      "size": [
        210,
        58
      ],
      "flags": {
        "collapsed": true
      },
      "order": 54,
      "mode": 0,
      "inputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "link": 14
        }
      ],
      "outputs": [
        {
          "name": "*",
          "type": "*",
          "links": null
        }
      ],
      "title": "Set_img_CNstyle",
      "properties": {
        "previousName": ""
      },
      "widgets_values": [
        "img_CNstyle"
      ],
      "color": "#2a363b",
      "bgcolor": "#3f5159"
    },
    {
      "id": 30,
      "type": "Note",
      "pos": [
        -5529.3876953125,
        -2048.836181640625
      ],
      "size": [
        416.4588928222656,
        198.4884796142578
      ],
      "flags": {},
      "order": 18,
      "mode": 0,
      "inputs": [],
      "outputs": [],
      "properties": {
        "text": ""
      },
      "widgets_values": [
        "The text prompt here , just do a simple text prompt what is the subject wearing. (dress, tishirt, pants , etc.)  Detail color and pattern are going to be describe by VLM.   \n\nNext sentance are going to describe what does the subject doing.  (walking , eating, jumping , etc.)"
      ],
      "color": "#432",
      "bgcolor": "#653"
    },
    {
      "id": 18,
      "type": "GetNode",
      "pos": [
        -7043.29833984375,
        -2170.28466796875
      ],
      "size": [
        210,
        58
      ],
      "flags": {},
      "order": 19,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "INT",
          "type": "INT",
          "links": [
            7
          ]
        }
      ],
      "title": "Get_length",
      "properties": {},
      "widgets_values": [
        "length"
      ],
      "color": "#1b4669",
      "bgcolor": "#29699c"
    },
    {
      "id": 55,
      "type": "LoadImageFromPath",
      "pos": [
        -4967.1533203125,
        -2041.1552734375
      ],
      "size": [
        315,
        78
      ],
      "flags": {},
      "order": 20,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            144
          ]
        },
        {
          "name": "MASK",
          "type": "MASK",
          "links": null
        }
      ],
      "properties": {
        "cnr_id": "ib-nodes",
        "ver": "1be2c861abbad9cf0db630ac0dc840ce7ee65517",
        "Node name for S&R": "LoadImageFromPath"
      },
      "widgets_values": [
        "E:\\ai videos Work In Progress\\Mecha References\\fc2341c6392745ef5aa2a8c5e85d73d5.jpg"
      ],
      "color": "#232",
      "bgcolor": "#353"
    },
    {
      "id": 24,
      "type": "SetNode",
      "pos": [
        -4242.5556640625,
        -2031.393310546875
      ],
      "size": [
        210,
        58
      ],
      "flags": {
        "collapsed": false
      },
      "order": 39,
      "mode": 0,
      "inputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "link": 144
        }
      ],
      "outputs": [
        {
          "name": "*",
          "type": "*",
          "links": []
        }
      ],
      "title": "Set_img_ref_1",
      "properties": {
        "previousName": ""
      },
      "widgets_values": [
        "img_ref_1"
      ],
      "color": "#2a363b",
      "bgcolor": "#3f5159"
    },
    {
      "id": 29,
      "type": "ImageResizeKJv2",
      "pos": [
        -4959.68310546875,
        -1797.4605712890625
      ],
      "size": [
        270,
        242
      ],
      "flags": {},
      "order": 43,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 143
        },
        {
          "name": "width",
          "type": "INT",
          "widget": {
            "name": "width"
          },
          "link": 16
        },
        {
          "name": "height",
          "type": "INT",
          "widget": {
            "name": "height"
          },
          "link": 17
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            12,
            14
          ]
        },
        {
          "name": "width",
          "type": "INT",
          "links": []
        },
        {
          "name": "height",
          "type": "INT",
          "links": []
        }
      ],
      "properties": {
        "cnr_id": "comfyui-kjnodes",
        "ver": "c3dc82108a2a86c17094107ead61d63f8c76200e",
        "Node name for S&R": "ImageResizeKJv2"
      },
      "widgets_values": [
        480,
        832,
        "nearest-exact",
        "resize",
        "0, 0, 0",
        "top",
        2
      ]
    },
    {
      "id": 36,
      "type": "DWPreprocessor",
      "pos": [
        -5402.1611328125,
        -1199.53173828125
      ],
      "size": [
        294.72265625,
        222
      ],
      "flags": {},
      "order": 45,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 21
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": []
        },
        {
          "name": "POSE_KEYPOINT",
          "type": "POSE_KEYPOINT",
          "links": null
        }
      ],
      "properties": {
        "cnr_id": "comfyui_controlnet_aux",
        "ver": "83463c2e4b04e729268e57f638b4212e0da4badc",
        "Node name for S&R": "DWPreprocessor"
      },
      "widgets_values": [
        "enable",
        "enable",
        "enable",
        512,
        "yolox_l.onnx",
        "dw-ll_ucoco_384_bs5.torchscript.pt",
        "disable"
      ]
    },
    {
      "id": 21,
      "type": "INTConstant",
      "pos": [
        -5580.1376953125,
        -2490.56640625
      ],
      "size": [
        210,
        58
      ],
      "flags": {},
      "order": 21,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "value",
          "type": "INT",
          "links": [
            9,
            16
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfyui-kjnodes",
        "ver": "3e3a1a8aac61dc4515f6a7da74e026f05a80299f",
        "Node name for S&R": "INTConstant"
      },
      "widgets_values": [
        480
      ],
      "color": "#1b4669",
      "bgcolor": "#29699c"
    },
    {
      "id": 20,
      "type": "INTConstant",
      "pos": [
        -5578.7109375,
        -2341.8046875
      ],
      "size": [
        210,
        58
      ],
      "flags": {},
      "order": 22,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "value",
          "type": "INT",
          "links": [
            10,
            17
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfyui-kjnodes",
        "ver": "3e3a1a8aac61dc4515f6a7da74e026f05a80299f",
        "Node name for S&R": "INTConstant"
      },
      "widgets_values": [
        832
      ],
      "color": "#1b4669",
      "bgcolor": "#29699c"
    },
    {
      "id": 31,
      "type": "StringConstantMultiline",
      "pos": [
        -5008.16552734375,
        -2499.67431640625
      ],
      "size": [
        771.4143676757812,
        201.24325561523438
      ],
      "flags": {},
      "order": 23,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "STRING",
          "type": "STRING",
          "links": [
            13
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfyui-kjnodes",
        "ver": "3e3a1a8aac61dc4515f6a7da74e026f05a80299f",
        "Node name for S&R": "StringConstantMultiline"
      },
      "widgets_values": [
        "a robotic Mecha in a futuristic science lab , camera recording the Mecha running in the hallway. The robot escape the chase from other riot robots. Red light alarm alerting in the hallway.",
        true
      ],
      "color": "#232",
      "bgcolor": "#353"
    },
    {
      "id": 35,
      "type": "ImageResizeKJv2",
      "pos": [
        -5763.3271484375,
        -1174.6976318359375
      ],
      "size": [
        270,
        242
      ],
      "flags": {},
      "order": 34,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 18
        },
        {
          "name": "width",
          "type": "INT",
          "widget": {
            "name": "width"
          },
          "link": 19
        },
        {
          "name": "height",
          "type": "INT",
          "widget": {
            "name": "height"
          },
          "link": 20
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            21,
            145,
            151
          ]
        },
        {
          "name": "width",
          "type": "INT",
          "links": []
        },
        {
          "name": "height",
          "type": "INT",
          "links": []
        }
      ],
      "properties": {
        "cnr_id": "comfyui-kjnodes",
        "ver": "c3dc82108a2a86c17094107ead61d63f8c76200e",
        "Node name for S&R": "ImageResizeKJv2"
      },
      "widgets_values": [
        512,
        512,
        "nearest-exact",
        "crop",
        "0, 0, 0",
        "center",
        2
      ]
    },
    {
      "id": 33,
      "type": "GetNode",
      "pos": [
        -6018.6796875,
        -539.4171142578125
      ],
      "size": [
        210,
        58
      ],
      "flags": {
        "collapsed": false
      },
      "order": 24,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "INT",
          "type": "INT",
          "links": [
            36,
            155
          ]
        }
      ],
      "title": "Get_height",
      "properties": {},
      "widgets_values": [
        "height"
      ],
      "color": "#1b4669",
      "bgcolor": "#29699c"
    },
    {
      "id": 34,
      "type": "GetNode",
      "pos": [
        -6019.701171875,
        -436.58404541015625
      ],
      "size": [
        210,
        58
      ],
      "flags": {
        "collapsed": false
      },
      "order": 25,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "INT",
          "type": "INT",
          "links": [
            37,
            156
          ]
        }
      ],
      "title": "Get_length",
      "properties": {},
      "widgets_values": [
        "length"
      ],
      "color": "#1b4669",
      "bgcolor": "#29699c"
    },
    {
      "id": 32,
      "type": "GetNode",
      "pos": [
        -6016.7509765625,
        -637.3583374023438
      ],
      "size": [
        210,
        58
      ],
      "flags": {
        "collapsed": false
      },
      "order": 26,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "INT",
          "type": "INT",
          "links": [
            35,
            154
          ]
        }
      ],
      "title": "Get_width",
      "properties": {},
      "widgets_values": [
        "width"
      ],
      "color": "#1b4669",
      "bgcolor": "#29699c"
    },
    {
      "id": 56,
      "type": "GetNode",
      "pos": [
        -6011.7939453125,
        -734.6287841796875
      ],
      "size": [
        210,
        58
      ],
      "flags": {
        "collapsed": false
      },
      "order": 27,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            34,
            153
          ]
        }
      ],
      "title": "Get_img_CNstyle",
      "properties": {},
      "widgets_values": [
        "img_CNstyle"
      ],
      "color": "#2a363b",
      "bgcolor": "#3f5159"
    },
    {
      "id": 43,
      "type": "GetNode",
      "pos": [
        -6017.07470703125,
        -837.7550048828125
      ],
      "size": [
        210,
        58
      ],
      "flags": {
        "collapsed": false
      },
      "order": 28,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "WANVAE",
          "type": "WANVAE",
          "links": [
            32,
            150
          ]
        }
      ],
      "title": "Get_wan_vae",
      "properties": {},
      "widgets_values": [
        "wan_vae"
      ],
      "color": "#322",
      "bgcolor": "#533"
    },
    {
      "id": 22,
      "type": "LoadImageFromPath",
      "pos": [
        -5528.912109375,
        -1787.2432861328125
      ],
      "size": [
        389.3893737792969,
        78
      ],
      "flags": {},
      "order": 29,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            143
          ]
        },
        {
          "name": "MASK",
          "type": "MASK",
          "links": null
        }
      ],
      "properties": {
        "cnr_id": "ib-nodes",
        "ver": "1be2c861abbad9cf0db630ac0dc840ce7ee65517",
        "Node name for S&R": "LoadImageFromPath"
      },
      "widgets_values": [
        "E:\\ComfyUI\\output\\AnimateDiff_00036.png"
      ],
      "color": "#232",
      "bgcolor": "#353"
    },
    {
      "id": 19,
      "type": "INTConstant",
      "pos": [
        -5571.24560546875,
        -2198.59033203125
      ],
      "size": [
        210,
        58
      ],
      "flags": {},
      "order": 30,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "value",
          "type": "INT",
          "links": [
            8
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfyui-kjnodes",
        "ver": "3e3a1a8aac61dc4515f6a7da74e026f05a80299f",
        "Node name for S&R": "INTConstant"
      },
      "widgets_values": [
        81
      ],
      "color": "#1b4669",
      "bgcolor": "#29699c"
    },
    {
      "id": 26,
      "type": "PreviewImage",
      "pos": [
        -4568.0615234375,
        -1904.8984375
      ],
      "size": [
        522.3500366210938,
        510.1638488769531
      ],
      "flags": {},
      "order": 53,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 12
        }
      ],
      "outputs": [],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.27",
        "Node name for S&R": "PreviewImage"
      },
      "widgets_values": [],
      "color": "#233",
      "bgcolor": "#355"
    },
    {
      "id": 54,
      "type": "WanVideoSampler",
      "pos": [
        -4353.49853515625,
        -1191.999267578125
      ],
      "size": [
        327.2129821777344,
        578
      ],
      "flags": {},
      "order": 48,
      "mode": 0,
      "inputs": [
        {
          "name": "model",
          "type": "WANVIDEOMODEL",
          "link": 40
        },
        {
          "name": "text_embeds",
          "type": "WANVIDEOTEXTEMBEDS",
          "link": 41
        },
        {
          "name": "image_embeds",
          "type": "WANVIDIMAGE_EMBEDS",
          "link": 42
        },
        {
          "name": "samples",
          "shape": 7,
          "type": "LATENT",
          "link": null
        },
        {
          "name": "feta_args",
          "shape": 7,
          "type": "FETAARGS",
          "link": null
        },
        {
          "name": "context_options",
          "shape": 7,
          "type": "WANVIDCONTEXT",
          "link": null
        },
        {
          "name": "teacache_args",
          "shape": 7,
          "type": "TEACACHEARGS",
          "link": null
        },
        {
          "name": "flowedit_args",
          "shape": 7,
          "type": "FLOWEDITARGS",
          "link": null
        },
        {
          "name": "slg_args",
          "shape": 7,
          "type": "SLGARGS",
          "link": null
        },
        {
          "name": "loop_args",
          "shape": 7,
          "type": "LOOPARGS",
          "link": null
        },
        {
          "name": "experimental_args",
          "shape": 7,
          "type": "EXPERIMENTALARGS",
          "link": null
        },
        {
          "name": "sigmas",
          "shape": 7,
          "type": "SIGMAS",
          "link": null
        },
        {
          "name": "unianimate_poses",
          "shape": 7,
          "type": "UNIANIMATE_POSE",
          "link": null
        },
        {
          "name": "fantasytalking_embeds",
          "shape": 7,
          "type": "FANTASYTALKING_EMBEDS",
          "link": null
        },
        {
          "name": "uni3c_embeds",
          "shape": 7,
          "type": "UNI3C_EMBEDS",
          "link": null
        }
      ],
      "outputs": [
        {
          "name": "samples",
          "type": "LATENT",
          "links": [
            25
          ]
        }
      ],
      "properties": {
        "cnr_id": "ComfyUI-WanVideoWrapper",
        "ver": "f820f38c8f0de30a7b964aecdafe4cf7f0597054",
        "Node name for S&R": "WanVideoSampler"
      },
      "widgets_values": [
        8,
        1.0000000000000002,
        8.000000000000002,
        1013166398531279,
        "fixed",
        true,
        "flowmatch_causvid",
        0,
        1,
        false,
        "comfy"
      ]
    },
    {
      "id": 57,
      "type": "GetNode",
      "pos": [
        -4620.890625,
        -1145.7791748046875
      ],
      "size": [
        210,
        50
      ],
      "flags": {
        "collapsed": true
      },
      "order": 31,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "WANVIDIMAGE_EMBEDS",
          "type": "WANVIDIMAGE_EMBEDS",
          "links": [
            42
          ]
        }
      ],
      "title": "Get_vace_cnv2v",
      "properties": {},
      "widgets_values": [
        "vace_cnv2v"
      ]
    },
    {
      "id": 52,
      "type": "WanVideoVACEEncode",
      "pos": [
        -5385.85791015625,
        -832.4863891601562
      ],
      "size": [
        284.443359375,
        282
      ],
      "flags": {},
      "order": 55,
      "mode": 0,
      "inputs": [
        {
          "name": "vae",
          "type": "WANVAE",
          "link": 32
        },
        {
          "name": "input_frames",
          "shape": 7,
          "type": "IMAGE",
          "link": 146
        },
        {
          "name": "ref_images",
          "shape": 7,
          "type": "IMAGE",
          "link": 34
        },
        {
          "name": "input_masks",
          "shape": 7,
          "type": "MASK",
          "link": null
        },
        {
          "name": "prev_vace_embeds",
          "shape": 7,
          "type": "WANVIDIMAGE_EMBEDS",
          "link": null
        },
        {
          "name": "width",
          "type": "INT",
          "widget": {
            "name": "width"
          },
          "link": 35
        },
        {
          "name": "height",
          "type": "INT",
          "widget": {
            "name": "height"
          },
          "link": 36
        },
        {
          "name": "num_frames",
          "type": "INT",
          "widget": {
            "name": "num_frames"
          },
          "link": 37
        }
      ],
      "outputs": [
        {
          "name": "vace_embeds",
          "type": "WANVIDIMAGE_EMBEDS",
          "links": [
            148
          ]
        }
      ],
      "properties": {
        "cnr_id": "ComfyUI-WanVideoWrapper",
        "ver": "03edd8cbf2fdb45c628b63cc093fe8f2e31e43df",
        "Node name for S&R": "WanVideoVACEEncode"
      },
      "widgets_values": [
        832,
        480,
        109,
        0.5000000000000001,
        0,
        1,
        false
      ]
    },
    {
      "id": 44,
      "type": "Fast Groups Bypasser (rgthree)",
      "pos": [
        -3967.4765625,
        -1557.918701171875
      ],
      "size": [
        337.7762756347656,
        226
      ],
      "flags": {},
      "order": 32,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "OPT_CONNECTION",
          "type": "*",
          "links": null
        }
      ],
      "properties": {
        "matchColors": "",
        "matchTitle": "",
        "showNav": true,
        "sort": "position",
        "customSortAlphabet": "",
        "toggleRestriction": "default"
      }
    },
    {
      "id": 145,
      "type": "DWPreprocessor",
      "pos": [
        -5227.0751953125,
        -207.52395629882812
      ],
      "size": [
        294.72265625,
        222
      ],
      "flags": {},
      "order": 47,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 151
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            152,
            157
          ]
        },
        {
          "name": "POSE_KEYPOINT",
          "type": "POSE_KEYPOINT",
          "links": null
        }
      ],
      "properties": {
        "cnr_id": "comfyui_controlnet_aux",
        "ver": "83463c2e4b04e729268e57f638b4212e0da4badc",
        "Node name for S&R": "DWPreprocessor"
      },
      "widgets_values": [
        "enable",
        "enable",
        "enable",
        512,
        "yolox_l.onnx",
        "dw-ll_ucoco_384_bs5.torchscript.pt",
        "disable"
      ]
    },
    {
      "id": 10,
      "type": "VHS_LoadVideoPath",
      "pos": [
        -6741.76708984375,
        -2757.82080078125
      ],
      "size": [
        619.813232421875,
        1349.673095703125
      ],
      "flags": {},
      "order": 38,
      "mode": 0,
      "inputs": [
        {
          "name": "meta_batch",
          "shape": 7,
          "type": "VHS_BatchManager",
          "link": null
        },
        {
          "name": "vae",
          "shape": 7,
          "type": "VAE",
          "link": null
        },
        {
          "name": "custom_width",
          "type": "INT",
          "widget": {
            "name": "custom_width"
          },
          "link": 5
        },
        {
          "name": "custom_height",
          "type": "INT",
          "widget": {
            "name": "custom_height"
          },
          "link": 6
        },
        {
          "name": "frame_load_cap",
          "type": "INT",
          "widget": {
            "name": "frame_load_cap"
          },
          "link": 7
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            29
          ]
        },
        {
          "name": "frame_count",
          "type": "INT",
          "links": []
        },
        {
          "name": "audio",
          "type": "AUDIO",
          "links": [
            112
          ]
        },
        {
          "name": "video_info",
          "type": "VHS_VIDEOINFO",
          "links": [
            30
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfyui-videohelpersuite",
        "ver": "df55f01d1df2f7bf5cc772294bc2e6d8bab22d66",
        "Node name for S&R": "VHS_LoadVideoPath"
      },
      "widgets_values": {
        "video": "C:\\Users\\Ben\\Desktop\\short vids\\202505-short movie\\vidoes\\Professional_Mode_FPV_camera_view___tracking_of_a_ (1).mp4",
        "force_rate": 0,
        "custom_width": 0,
        "custom_height": 0,
        "frame_load_cap": 149,
        "skip_first_frames": 51,
        "select_every_nth": 1,
        "format": "Wan",
        "videopreview": {
          "hidden": false,
          "paused": true,
          "params": {
            "filename": "C:\\Users\\Ben\\Desktop\\short vids\\202505-short movie\\vidoes\\Professional_Mode_FPV_camera_view___tracking_of_a_ (1).mp4",
            "type": "path",
            "format": "video/mp4",
            "force_rate": 0,
            "custom_width": 0,
            "custom_height": 0,
            "frame_load_cap": 149,
            "skip_first_frames": 51,
            "select_every_nth": 1
          }
        }
      }
    },
    {
      "id": 142,
      "type": "VHS_VideoCombine",
      "pos": [
        -5906.0341796875,
        -260.4151306152344
      ],
      "size": [
        599.5840454101562,
        682.174560546875
      ],
      "flags": {},
      "order": 56,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 147
        },
        {
          "name": "audio",
          "shape": 7,
          "type": "AUDIO",
          "link": null
        },
        {
          "name": "meta_batch",
          "shape": 7,
          "type": "VHS_BatchManager",
          "link": null
        },
        {
          "name": "vae",
          "shape": 7,
          "type": "VAE",
          "link": null
        }
      ],
      "outputs": [
        {
          "name": "Filenames",
          "type": "VHS_FILENAMES",
          "links": null
        }
      ],
      "properties": {
        "cnr_id": "comfyui-videohelpersuite",
        "ver": "df55f01d1df2f7bf5cc772294bc2e6d8bab22d66",
        "Node name for S&R": "VHS_VideoCombine"
      },
      "widgets_values": {
        "frame_rate": 25,
        "loop_count": 0,
        "filename_prefix": "AnimateDiff",
        "format": "video/h264-mp4",
        "pix_fmt": "yuv420p",
        "crf": 19,
        "save_metadata": true,
        "trim_to_audio": false,
        "pingpong": false,
        "save_output": false,
        "videopreview": {
          "hidden": false,
          "paused": false,
          "params": {
            "filename": "AnimateDiff_00001.mp4",
            "subfolder": "",
            "type": "temp",
            "format": "video/h264-mp4",
            "frame_rate": 25,
            "workflow": "AnimateDiff_00001.png",
            "fullpath": "C:\\Users\\Ben\\AppData\\Local\\Temp\\latentsync_75e5ca84\\AnimateDiff_00001.mp4"
          }
        }
      }
    },
    {
      "id": 146,
      "type": "VHS_VideoCombine",
      "pos": [
        -5195.74560546875,
        134.43345642089844
      ],
      "size": [
        599.5840454101562,
        682.174560546875
      ],
      "flags": {},
      "order": 57,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 157
        },
        {
          "name": "audio",
          "shape": 7,
          "type": "AUDIO",
          "link": null
        },
        {
          "name": "meta_batch",
          "shape": 7,
          "type": "VHS_BatchManager",
          "link": null
        },
        {
          "name": "vae",
          "shape": 7,
          "type": "VAE",
          "link": null
        }
      ],
      "outputs": [
        {
          "name": "Filenames",
          "type": "VHS_FILENAMES",
          "links": null
        }
      ],
      "properties": {
        "cnr_id": "comfyui-videohelpersuite",
        "ver": "df55f01d1df2f7bf5cc772294bc2e6d8bab22d66",
        "Node name for S&R": "VHS_VideoCombine"
      },
      "widgets_values": {
        "frame_rate": 25,
        "loop_count": 0,
        "filename_prefix": "AnimateDiff",
        "format": "video/h264-mp4",
        "pix_fmt": "yuv420p",
        "crf": 19,
        "save_metadata": true,
        "trim_to_audio": false,
        "pingpong": false,
        "save_output": false,
        "videopreview": {
          "hidden": false,
          "paused": false,
          "params": {
            "filename": "AnimateDiff_00002.mp4",
            "subfolder": "",
            "type": "temp",
            "format": "video/h264-mp4",
            "frame_rate": 25,
            "workflow": "AnimateDiff_00002.png",
            "fullpath": "C:\\Users\\Ben\\AppData\\Local\\Temp\\latentsync_75e5ca84\\AnimateDiff_00002.mp4"
          }
        }
      }
    },
    {
      "id": 48,
      "type": "VHS_VideoCombine",
      "pos": [
        -3438.708984375,
        -780.232421875
      ],
      "size": [
        1254.470458984375,
        334
      ],
      "flags": {},
      "order": 63,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 27
        },
        {
          "name": "audio",
          "shape": 7,
          "type": "AUDIO",
          "link": null
        },
        {
          "name": "meta_batch",
          "shape": 7,
          "type": "VHS_BatchManager",
          "link": null
        },
        {
          "name": "vae",
          "shape": 7,
          "type": "VAE",
          "link": null
        }
      ],
      "outputs": [
        {
          "name": "Filenames",
          "type": "VHS_FILENAMES",
          "links": null
        }
      ],
      "properties": {
        "cnr_id": "comfyui-videohelpersuite",
        "ver": "df55f01d1df2f7bf5cc772294bc2e6d8bab22d66",
        "Node name for S&R": "VHS_VideoCombine"
      },
      "widgets_values": {
        "frame_rate": 24,
        "loop_count": 0,
        "filename_prefix": "AnimateDiff",
        "format": "video/h264-mp4",
        "pix_fmt": "yuv420p",
        "crf": 19,
        "save_metadata": true,
        "trim_to_audio": false,
        "pingpong": false,
        "save_output": true,
        "videopreview": {
          "hidden": false,
          "paused": false,
          "params": {
            "filename": "AnimateDiff_00040.mp4",
            "subfolder": "",
            "type": "output",
            "format": "video/h264-mp4",
            "frame_rate": 24,
            "workflow": "AnimateDiff_00040.png",
            "fullpath": "E:\\ComfyUI\\output\\AnimateDiff_00040.mp4"
          }
        }
      }
    },
    {
      "id": 50,
      "type": "VHS_VideoInfo",
      "pos": [
        -6088.4560546875,
        -2394.26318359375
      ],
      "size": [
        262,
        206
      ],
      "flags": {},
      "order": 52,
      "mode": 0,
      "inputs": [
        {
          "name": "video_info",
          "type": "VHS_VIDEOINFO",
          "link": 30
        }
      ],
      "outputs": [
        {
          "name": "source_fps🟨",
          "type": "FLOAT",
          "links": [
            31
          ]
        },
        {
          "name": "source_frame_count🟨",
          "type": "INT",
          "links": null
        },
        {
          "name": "source_duration🟨",
          "type": "FLOAT",
          "links": null
        },
        {
          "name": "source_width🟨",
          "type": "INT",
          "links": null
        },
        {
          "name": "source_height🟨",
          "type": "INT",
          "links": null
        },
        {
          "name": "loaded_fps🟦",
          "type": "FLOAT",
          "links": null
        },
        {
          "name": "loaded_frame_count🟦",
          "type": "INT",
          "links": null
        },
        {
          "name": "loaded_duration🟦",
          "type": "FLOAT",
          "links": null
        },
        {
          "name": "loaded_width🟦",
          "type": "INT",
          "links": null
        },
        {
          "name": "loaded_height🟦",
          "type": "INT",
          "links": null
        }
      ],
      "properties": {
        "cnr_id": "comfyui-videohelpersuite",
        "ver": "df55f01d1df2f7bf5cc772294bc2e6d8bab22d66",
        "Node name for S&R": "VHS_VideoInfo"
      },
      "widgets_values": {}
    },
    {
      "id": 130,
      "type": "SetNode",
      "pos": [
        -6100.24755859375,
        -2103.68408203125
      ],
      "size": [
        210,
        60
      ],
      "flags": {},
      "order": 51,
      "mode": 0,
      "inputs": [
        {
          "name": "AUDIO",
          "type": "AUDIO",
          "link": 112
        }
      ],
      "outputs": [
        {
          "name": "*",
          "type": "*",
          "links": null
        }
      ],
      "title": "Set_video_src-audio",
      "properties": {
        "previousName": "video_src-audio"
      },
      "widgets_values": [
        "video_src-audio"
      ]
    },
    {
      "id": 143,
      "type": "AIO_Preprocessor",
      "pos": [
        -5719.84423828125,
        -863.8480834960938
      ],
      "size": [
        270,
        82
      ],
      "flags": {},
      "order": 46,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 145
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            146,
            147
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfyui_controlnet_aux",
        "ver": "83463c2e4b04e729268e57f638b4212e0da4badc",
        "Node name for S&R": "AIO_Preprocessor"
      },
      "widgets_values": [
        "DepthAnythingV2Preprocessor",
        512
      ]
    },
    {
      "id": 144,
      "type": "WanVideoVACEEncode",
      "pos": [
        -4824.0556640625,
        -223.13702392578125
      ],
      "size": [
        284.443359375,
        282
      ],
      "flags": {},
      "order": 60,
      "mode": 0,
      "inputs": [
        {
          "name": "vae",
          "type": "WANVAE",
          "link": 150
        },
        {
          "name": "input_frames",
          "shape": 7,
          "type": "IMAGE",
          "link": 152
        },
        {
          "name": "ref_images",
          "shape": 7,
          "type": "IMAGE",
          "link": 153
        },
        {
          "name": "input_masks",
          "shape": 7,
          "type": "MASK",
          "link": null
        },
        {
          "name": "prev_vace_embeds",
          "shape": 7,
          "type": "WANVIDIMAGE_EMBEDS",
          "link": 148
        },
        {
          "name": "width",
          "type": "INT",
          "widget": {
            "name": "width"
          },
          "link": 154
        },
        {
          "name": "height",
          "type": "INT",
          "widget": {
            "name": "height"
          },
          "link": 155
        },
        {
          "name": "num_frames",
          "type": "INT",
          "widget": {
            "name": "num_frames"
          },
          "link": 156
        }
      ],
      "outputs": [
        {
          "name": "vace_embeds",
          "type": "WANVIDIMAGE_EMBEDS",
          "links": [
            159
          ]
        }
      ],
      "properties": {
        "cnr_id": "ComfyUI-WanVideoWrapper",
        "ver": "03edd8cbf2fdb45c628b63cc093fe8f2e31e43df",
        "Node name for S&R": "WanVideoVACEEncode"
      },
      "widgets_values": [
        832,
        480,
        109,
        0.5000000000000001,
        0,
        1,
        false
      ]
    },
    {
      "id": 37,
      "type": "SetNode",
      "pos": [
        -4406.84033203125,
        -225.33538818359375
      ],
      "size": [
        210,
        58
      ],
      "flags": {
        "collapsed": false
      },
      "order": 64,
      "mode": 0,
      "inputs": [
        {
          "name": "WANVIDIMAGE_EMBEDS",
          "type": "WANVIDIMAGE_EMBEDS",
          "link": 159
        }
      ],
      "outputs": [
        {
          "name": "*",
          "type": "*",
          "links": null
        }
      ],
      "title": "Set_vace_cnv2v",
      "properties": {
        "previousName": ""
      },
      "widgets_values": [
        "vace_cnv2v"
      ]
    }
  ],
  "links": [
    [
      1,
      1,
      0,
      4,
      0,
      "WANCOMPILEARGS"
    ],
    [
      2,
      8,
      0,
      4,
      1,
      "BLOCKSWAPARGS"
    ],
    [
      3,
      7,
      0,
      4,
      2,
      "WANVIDLORA"
    ],
    [
      4,
      6,
      0,
      4,
      4,
      "VACEPATH"
    ],
    [
      5,
      9,
      0,
      10,
      2,
      "INT"
    ],
    [
      6,
      17,
      0,
      10,
      3,
      "INT"
    ],
    [
      7,
      18,
      0,
      10,
      4,
      "INT"
    ],
    [
      8,
      19,
      0,
      11,
      0,
      "*"
    ],
    [
      9,
      21,
      0,
      12,
      0,
      "*"
    ],
    [
      10,
      20,
      0,
      13,
      0,
      "*"
    ],
    [
      12,
      29,
      0,
      26,
      0,
      "IMAGE"
    ],
    [
      13,
      31,
      0,
      27,
      0,
      "*"
    ],
    [
      14,
      29,
      0,
      28,
      0,
      "*"
    ],
    [
      16,
      21,
      0,
      29,
      1,
      "INT"
    ],
    [
      17,
      20,
      0,
      29,
      2,
      "INT"
    ],
    [
      18,
      14,
      0,
      35,
      0,
      "IMAGE"
    ],
    [
      19,
      15,
      0,
      35,
      1,
      "INT"
    ],
    [
      20,
      16,
      0,
      35,
      2,
      "INT"
    ],
    [
      21,
      35,
      0,
      36,
      0,
      "IMAGE"
    ],
    [
      23,
      40,
      0,
      39,
      0,
      "*"
    ],
    [
      24,
      45,
      0,
      40,
      0,
      "WANVAE"
    ],
    [
      25,
      54,
      0,
      40,
      1,
      "LATENT"
    ],
    [
      26,
      40,
      0,
      41,
      0,
      "*"
    ],
    [
      27,
      40,
      0,
      48,
      0,
      "IMAGE"
    ],
    [
      29,
      10,
      0,
      49,
      0,
      "*"
    ],
    [
      30,
      10,
      3,
      50,
      0,
      "VHS_VIDEOINFO"
    ],
    [
      31,
      50,
      0,
      51,
      0,
      "*"
    ],
    [
      32,
      43,
      0,
      52,
      0,
      "WANVAE"
    ],
    [
      34,
      56,
      0,
      52,
      2,
      "IMAGE"
    ],
    [
      35,
      32,
      0,
      52,
      5,
      "INT"
    ],
    [
      36,
      33,
      0,
      52,
      6,
      "INT"
    ],
    [
      37,
      34,
      0,
      52,
      7,
      "INT"
    ],
    [
      38,
      47,
      0,
      53,
      0,
      "WANTEXTENCODER"
    ],
    [
      39,
      46,
      0,
      53,
      2,
      "STRING"
    ],
    [
      40,
      38,
      0,
      54,
      0,
      "WANVIDEOMODEL"
    ],
    [
      41,
      53,
      0,
      54,
      1,
      "WANVIDEOTEXTEMBEDS"
    ],
    [
      42,
      57,
      0,
      54,
      2,
      "WANVIDIMAGE_EMBEDS"
    ],
    [
      43,
      3,
      0,
      58,
      0,
      "*"
    ],
    [
      44,
      4,
      0,
      59,
      0,
      "*"
    ],
    [
      45,
      5,
      0,
      60,
      0,
      "*"
    ],
    [
      112,
      10,
      2,
      130,
      0,
      "*"
    ],
    [
      143,
      22,
      0,
      29,
      0,
      "IMAGE"
    ],
    [
      144,
      55,
      0,
      24,
      0,
      "IMAGE"
    ],
    [
      145,
      35,
      0,
      143,
      0,
      "IMAGE"
    ],
    [
      146,
      143,
      0,
      52,
      1,
      "IMAGE"
    ],
    [
      147,
      143,
      0,
      142,
      0,
      "IMAGE"
    ],
    [
      148,
      52,
      0,
      144,
      4,
      "WANVIDIMAGE_EMBEDS"
    ],
    [
      150,
      43,
      0,
      144,
      0,
      "WANVAE"
    ],
    [
      151,
      35,
      0,
      145,
      0,
      "IMAGE"
    ],
    [
      152,
      145,
      0,
      144,
      1,
      "IMAGE"
    ],
    [
      153,
      56,
      0,
      144,
      2,
      "IMAGE"
    ],
    [
      154,
      32,
      0,
      144,
      5,
      "INT"
    ],
    [
      155,
      33,
      0,
      144,
      6,
      "INT"
    ],
    [
      156,
      34,
      0,
      144,
      7,
      "INT"
    ],
    [
      157,
      145,
      0,
      146,
      0,
      "IMAGE"
    ],
    [
      159,
      144,
      0,
      37,
      0,
      "WANVIDIMAGE_EMBEDS"
    ]
  ],
  "groups": [
    {
      "id": 1,
      "title": "Model Loader",
      "bounding": [
        -7147.416015625,
        -1278.8944091796875,
        1028,
        924
      ],
      "color": "#3f789e",
      "font_size": 24,
      "flags": {}
    },
    {
      "id": 2,
      "title": "Source Video Loader",
      "bounding": [
        -7088.2490234375,
        -2603.269287109375,
        1454.78173828125,
        1235.8779296875
      ],
      "color": "#3f789e",
      "font_size": 24,
      "flags": {}
    },
    {
      "id": 3,
      "title": "Setting",
      "bounding": [
        -5590.1376953125,
        -2594.1171875,
        1587.70849609375,
        1225.4566650390625
      ],
      "color": "#3f789e",
      "font_size": 24,
      "flags": {}
    },
    {
      "id": 4,
      "title": "Step 1 - Control V2V",
      "bounding": [
        -7157.416015625,
        -1322.494384765625,
        3517.08935546875,
        978.2918701171875
      ],
      "color": "#3f789e",
      "font_size": 24,
      "flags": {}
    },
    {
      "id": 5,
      "title": "Sampling - 1",
      "bounding": [
        -5010.65283203125,
        -1270.5057373046875,
        1360.326171875,
        641.5999755859375
      ],
      "color": "#3f789e",
      "font_size": 24,
      "flags": {}
    },
    {
      "id": 6,
      "title": "Control V2V Processing Vace",
      "bounding": [
        -6054.919921875,
        -1270.7835693359375,
        993.779541015625,
        916.5810546875
      ],
      "color": "#3f789e",
      "font_size": 24,
      "flags": {}
    },
    {
      "id": 7,
      "title": "Vace 2nd",
      "bounding": [
        -5255.64501953125,
        -308.64312744140625,
        774.5706787109375,
        883.0263061523438
      ],
      "color": "#3f789e",
      "font_size": 24,
      "flags": {}
    }
  ],
  "config": {},
  "extra": {
    "ds": {
      "scale": 0.14637315331761433,
      "offset": [
        10203.898028270665,
        3499.949546043205
      ]
    },
    "frontendVersion": "1.20.7",
    "VHS_latentpreview": false,
    "VHS_latentpreviewrate": 0,
    "VHS_MetadataImage": true,
    "VHS_KeepIntermediate": true
  },
  "version": 0.4
}